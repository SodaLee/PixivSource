[
    {
        "articleStyle": 0,
        "concurrentRate": "",
        "contentBlacklist": "",
        "customOrder": 0,
        "enableJs": true,
        "enabled": true,
        "enabledCookieJar": false,
        "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 8.0.0; MI 5s Plus Build/OPR1.170623.032; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.99 Mobile Safari/537.36\",\n\t\"upgrade-insecure-requests\": \"1\",\r\n\"accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\",\r\n\"accept-language\": \"zh-CN,en-US;q=0.9\",\r\n\"cookie\": \"down_ip=1\",\r\n\"x-requested-with\": \"cn.nr19.mbrowser\"\n}",
        "injectJs": "// 是蓝奏云链接时\nhref = window.location.href;\nif(/lanzou/.test(href)){\nArray.from(document.querySelectorAll(`\n\t.mt2:last-of-type,.appreport,.n_login,\n\tdiv[style*=\"color: #8a6d3b;\"]\n`),$=>$.style.display='none');\n\n\n\n\nhref = encodeURIComponent(`https://gj.legado.cc/legado?url=${href.replace('/tp/','/')}&type=down`);\n\n\n\nconst widthIsMax = window.innerWidth > window.innerHeight;\n      let size, unit = 1500;\n      if (widthIsMax) {\n        size = window.innerWidth / unit;\n        unit = \"vw\";\n      } else {\n        size = window.innerHeight / unit;\n        unit = \"vh\"\n      }\n\n      const pubStyle = `background-color: rgb(255, 153, 0);border-radius:5px;border: 1px solid rgb(255, 153, 0);color: #fff;line-height:1;font-size:${4 * size}${unit};font-weight: 400;padding: ${size}${unit} ${size}${unit};`;\n\n      const pubBtn = (btns) => {\n        let text = \"\";\n        for (let i in btns) {\n          text += `${i}`\n        }\n        return text\n      };\n\n\n\n\n\n\nconst autoBtn = document.createElement('div');\n      autoBtn.style.display = \"none\";\n      \n\n      autoBtn.innerHTML = `\n    \n${pubBtn({\n\t自动识别: \"auto\",\n\t导入书源: \"bookSource\",\n\t导入订阅: \"rssSource\",\n\t替换净化: \"replaceRule\"\n})}\n    \n\n    \n\n      \n${decodeURIComponent(href)}\n\n\n    \n\n    \n长按按钮可以关闭弹窗\n\n\n  `;\n\n\n\n      let time, isLong;\n      function onBtnStart(evt) {\n        evt.preventDefault();\n        time = setTimeout(() => {\n          isLong = true;\n          autoBtn.style.display = \"block\";\n        }, 600);\n      };\n      function onBtnEnd(evt) {\n        evt.preventDefault();\n        if (isLong) {\n          isLong = undefined;\n        } else {\n          clearTimeout(time);\n          time = undefined;\n        }\n      }\n      btn = document.querySelector('.mdo');\n      btn.addEventListener('touchstart', onBtnStart);\n      btn.addEventListener('touchend', onBtnEnd);\n      btn.addEventListener('touchcancel', onBtnEnd);\n      btn.addEventListener('mousedown', onBtnStart);\n      btn.addEventListener('mouseup', onBtnEnd);\n\n\n\n      let time2, isLong2;\n      function onBtnStart2(evt) {\n        time2 = setTimeout(() => {\n          isLong2 = true;\n          autoBtn.style.display = \"none\";\n        }, 600);\n      };\n      function onBtnEnd2(evt) {\n        if (isLong2) {\n          evt.preventDefault();\n          isLong2 = undefined;\n        } else {\n          clearTimeout(time2);\n          time2 = undefined;\n        }\n      }\n\n      autoBtn.addEventListener('touchstart', onBtnStart2);\n      autoBtn.addEventListener('touchend', onBtnEnd2);\n      autoBtn.addEventListener('touchcancel', onBtnEnd2);\n      autoBtn.addEventListener('mousedown', onBtnStart2);\n      autoBtn.addEventListener('mouseup', onBtnEnd2);\n      document.body.appendChild(autoBtn);\n}",
        "lastUpdateTime": 1732723200123,
        "loadWithBaseUrl": true,
        "loginUi": "",
        "loginUrl": "a = String(source.sourceComment);\nreg1 = /\\s*『.*?』\\s*/g\nreg2 = /.+《(.*?)》.*/\nsortName = []\n\nb = a.match(reg1);\nb = a.split(reg1).map((list, i) => {\n    if (!/^\\s*$/.test(list)) {\n        try {\n            sort = b[i - 1].match(/『(.*?)』/)[1] + \"::\";\n        }\n        catch (err) {\n            sort = \"🌟 精选推荐::\"\n        }\n\n        url = [];\n        Sort = [\"\"];\n        list.split(/\\s*\\n\\s*/).map(text => {\n            text = String(text);\n            if (text.split('::').length == 2 && /^(?!.*(&&|•)).*::/.test(text)) {\n                Sort.push(text);\n            } else {\n                text.split(/\\s*(&&|•)\\s*/).map(text => {\n                    if (text.split('::').length == 2) Sort.push(text);\n                    else if (!/^\\s*::/.test(sort) && reg2.test(text)) url.push(text);\n                });\n            }\n        });\n        return sort += url.join('•') + Sort.join('\\n');\n    }\n    return list\n}).map(text => {\n    text = String(text).replace(/^\\s*::\\s*|\\s*::\\s*$/g, '');\n    \ntext = text.split('\\n').map(text=>{\n    if (/《/.test(text)) text = text.replace(/^(.+?::)(https?\\:\\/\\/(www.)?baidu.com\\/?\\?wd=\\s*)*/, '$1https://www.baidu.com/?wd=');\n\n\n// 更改连接符\n    return text.replace(/\\s*(♞♞|★)\\s*/g, '•');\n  }).join('\\n');\n    if (/::/.test(text)) {\n        sortName.push(text.replace(/::.*/g, ''))\n        return text\n    }\n    return \"\";\n}).join('\\n');\n\n\n\n\n\n\n\n\n\n\nfunction set(json) {\n    json = JSON.stringify(json).replace(/(\".+?)(\\d[,}])/g,'\\n\\t\\t$1 $2').replace(/}$/,'\\n}');\n    return source.setVariable(json);\n}\n\nfunction get() {\n    try {\n        v = JSON.parse(source.getVariable());\n    } catch (e) {\n        v = null\n    }\n    if (v == null || Array.isArray(v)) v = {};\n}\nget()\n\nsortName = sortName.join(',').replace(/\\s*\\n\\s*/g, ',').split(',').map($ => {\n    $ = $.trim()\n    if (v[$] == undefined) v[$] = 1;\n    return $;\n}).join(',');\nb = b.split('\\n').map(text => {\n    t = text.trim()\n    return v[t.split(/\\s*::/)[0]] ? t : \"\"\n}).join('\\n');\nset(v);\n\n\n//log字符串\nfunction login(t) {\n    if (t == undefined) return true;\n    java.log(t);\n    java.toast(t);\n}\n\n\n//log当前分类状态\nfunction look(type) {\nget();\nif (JSON.stringify(v) == \"{}\") $('全部分类');\nif(type){\n\t\tt = [{name:\"　　　　    ༺ˇ»`ʚ  分类选择  ɞ´«ˇ༻   　　　　\",type:\"button\",action:\"$('全部分类')\"}\n,{name:\"　 查看分类设置 　\",type:\"button\",action:\"look(0)\"}\n,{name:\"　 格式分组名称 　\",type:\"button\",action:\"look(1)\"}];\n\t\tfor (key in v) t.push({\n\t\t\tname:key,\n\t\t\ttype:\"button\",\n\t\t\taction:\"$('\"+key+\"')\"\n\t\t});\n\t\tt.push({name: \"　　　　　　　反馈Q群：365976134　　　　　　　\",type:\"button\",action:\"http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=x8r6m0bYYon_pCgT0BRc1ohwZmkkY61Q&authKey=DpmUioCvx45WjRRBnbRT2DsJ7LL6DNY3uau%2BFKPgR%2FSKz4EgYqUjEU5tJNi%2BkNPl&noverify=0&group_code=365976134\"});\n\t\tset(t)\n\t\tt = \"【格式发现】\\n\\t❗数组是复制到登录ui的❗\\nemmm，登录日志好像没办法长按复制。\\n已保存到源变量，去源变量那里复制吧。\";\n\t}\nelse{\n    t = \"【分类状态】\";\n    for (key in v) t += '\\n\\t' + key + '=>' + (v[key] ? '启用' : '禁用');\n   }\n  return login(t);\n}\n\n\n//启用/禁用\nfunction $(sort, name) {\n    get();\n    if (name == undefined) name = sort.split(',')[0];\n    name = name.trim()\n    if (name == '全部分类') {\n        sort = sortName;\n    } else { //屏蔽错误分类\n        sort1 = []\n        sort2 = sortName.split(',')\n        sort.split(',').map(key1 => {\n            key1 = key1.trim();\n            for (i in sort2) {\n                key2 = sort2[i].trim();\n                if (key1 == key2) {\n                    sort1.push(key1);\n                    break;\n                }\n            }\n        })\n        sort = sort1.join(',')\n    }\n    if (!/^\\s*$/.test(sort)) {\n        sort = String(sort).split(',');\n        f = sort.length > 1 ? '分组' : '分类';\n        V = v[sort[0]];\n        if (name == '全部分类') v = {};\n        login('【更改成功】\\n『' + f + '』 ' + name + ': 已' + (V ? '禁用' : '启用'));\n        sort.map(key => v[key] = V ? 0 : 1);\n        return set(v);\n    }\n    return login('【无法更改】\\n原因：没有有效分类(分类名称不正确)')\n}",
        "ruleArticles": "<js>\ntry {\n    $ = JSON.parse(src).text;\n    if ($ == \"no file\") $ = [];\n} catch (err) {\n    reg = /^(https?\\:\\/\\/((www|m)\\.)?baidu\\.com\\/?\\?wd=\\s*)+/i;\n\n    if (baseUrl == source.sourceUrl) {\n        $ = [{\n            name_all: \"无法获取分类？可能没有启用\",\n            time: \"右上角 - 【登录】启用，再【刷新分类】\"\n        }]\n    }\n\n\n\n    //网站整合\n    else if (baseUrl.match(reg)) {\n        $ = [];\n        baseUrl.replace(reg, '').\n        split(/\\s*•\\s*/).map($$ => $.push({\n            name_all: $$.match(/.*?《(.*?)》/)[1],\n            time: $$.match(/◎.*?◎/) ? $$.match(/.*?◎(.*?)◎/)[1] : \"\",\n            uri: $$.match(/【.*?】/) ? $$.match(/.*?【(.*?)】/)[1] : \"\",\n            url: $$.match(/^([^【《◎]*),?/)[1]\n        }));\n    }\n\n\n\n    //蓝奏云\n    else {\n\n        //蓝奏云非分组链接\n        if (String(java.getString('text.举报文件@href')).length) {\n            $ = [{\n                name_all: String(java.getString('class.md@textNodes')),\n                icon: String(java.getString('class.md@textNodes')).replace(/.*\\./, ''),\n                size: String(java.getString('class.mtt@text')).replace(/\\( /, '').replace(/ \\)/, ''),\n                time: String(java.getString('class.mf@textNodes')).replace(/.*\\n/, ''),\n                uri: baseUrl.replace(/^(.+com).*\\/(.+)$/, '$2'),\n                url: baseUrl.replace(/^(.+com).*\\/(.+)$/, '$1/tp/$2')\n            }]\n        }\n\n\n        //取消分享\n        else if (String(java.getString('.off@text')).match(/取消分享/)) {\n            $ = [{\n                name_all: java.getString('.off@text'),\n                time: baseUrl.replace(/[#\\?].*/g, ''),\n                url: baseUrl.replace(/[#\\?].*/g, '')\n            }]\n        }\n\n\n        //蓝奏云分组链接\n        else {\n            json = [];\n            name = java.getString('.user-radio@text||title@text')\n            java.getElements('#folder .mlink').forEach(a => {\n                java.setContent(a);\n                json.push({\n                    name_all: java.getString('.filename@textNodes'),\n                    url: java.getString('a@href'),\n                    time: '🗂️ folder　📑 ' + (String(java.getString('.filesize@text')) || name)\n                })\n            })\n           java.setContent(src);\n\n\n            mat = baseUrl.match(/^(.*?\\.com)[^##]*\\/(.+)$/)\n            url = mat[1]\n            uri = mat[2]\n\n            function $(reg) {\n                return uri.match(reg) ? true : false\n            }\n\n\n            //get【pwd】(链接提取码)\n            pwd =\n                $(/##[^【]/) ? uri.match(/##(.*?)(【|$)/)[1] :\n                \"\";\n\n\n\n            head = {\n                method: \"POST\",\n                params: {\n                    uri: uri,\n                    img: $(/【[^】]/) ? uri.match(/【([^】]+)/)[1] : \"\"\n                }\n            }\n\n\n\n\n            //get 【body】\n            eval(src.match(/var pgs;([\\s\\S]*?pgs.+;)/)[1]);\n            eval('$=' + src.match(/data :([\\s\\S]*?\\})/)[1]);\n            head.body = Object.keys($).map(key => key + \"=\" + $[key]).join('&');\n\n\n            //补全【url】\n            url += \"/filemoreajax.php,\" + JSON.stringify(head);\n\n\n\n            //ajax\n            $ = JSON.parse(java.ajax(url));\n            $ = json.concat($.text != 0 ? $.text :\n\n                //密码错误提示\n                [{\n                    name_all: $.info,\n                    time: uri.replace(/[#\\?].*/, '') + $.info,\n                    url: baseUrl.replace(/[#\\?].*/, '')\n                }])\n            baseUrl = url\n        }\n    }\n}\njava.put('url', baseUrl);\nJSON.stringify($);\n</js>$.[*]",
        "ruleContent": "",
        "ruleDescription": "❗️0、0、开始❗️\n❗️0、0、结束❗️\n\n\n\n\n{{}}@js:\nurl=String(java.getString('$.url')).trim();\n\n\n\n//【..导入】\nif(url.match(/^..导入/)){\nuri=url.replace(/导入.*/,'');\nurl=url.replace(/.*导入/,'');\npath =\n(uri==\"一键\"||uri==\"自动\")?\"auto\":\nuri==\"书源\"?\"bookSource\":\nuri==\"订阅\"?\"rssSource\":\nuri==\"净化\"?\"replaceRule\":\n\"\";\nurl=url.match(/^legado\\:\\/\\//)?url:`legado://import/${path}?src=`+url;\nurl = String(url).replace(/^(.*?src=)(.*)/,(mat, $1, $2)=>{\n  return $1+encodeURIComponent($2);\n});\n\n\nresult=`<title>{{$.name_all}}</title>\n<iframe src=\"${url}\" hidden></iframe>\n<br><h3>{{$.name_all}}</h3>\n<h5>导入不成功？多导入几次试试</h5>\n\n<h6><b>\n↓资源链接，点击复制\n<a href=\"${url}\">一键导入</a>\n<textarea id=\"copy\" onclick=\"copy()\">${decodeURIComponent(String(url).replace(/legado.*?src=/,''))}</textarea>\n{{$.time}}\n</b></h6>\n\n<style>\na{float:right;text-decoration:none}\nh3,h5{text-align:center}\nh6{margin:0 2;position:sticky;top:30%}\ntextarea{width:100%;border-radius:5px}\n</style><script>\nfunction copy(){\n\tdocument.getElementById('copy').select()\n\tdocument.execCommand('copy')\n\talert(\"复制成功\")\n}\n</script>`}\n\n\n\n//【自定义html】\nelse if(url.match(/\\d+、\\d+、/)){\nreg=new RegExp('❗️'+url+'开始❗️\\\\s*([\\\\s\\\\S]+?)\\\\s*❗️'+url+'结束❗️');\n//默认禁止放大缩小\nresult=result.match(reg)?\n'<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\">'+result.match(reg)[1]:'<br>未找到对应html'\n}\n\nelse{result=''}",
        "ruleImage": "$.uri@js:\nu0 = String(java.get('url'));\nu1 = u0.match(/uri\":\"([^\"]+)/);\nu2 = u0.match(/img\":\"([^\"]+)/);\nuri=String(result)||(u2?u2[1]:u1?u1[1]:\"\");\nfunction $(reg){\n\t\treturn uri.match(reg)?true:false\n\t}\n\n\nsrc =\n$(/https?:\\/\\/|^\\d{3}(\\/\\d\\d){3}$/)? uri:\n$(/【[^】]/)? baseUrl.match(/【(.*?)(】|$)/)[1]:\n\n// 默认封面\n\"\"||source.sourceIcon;\n\n// 补全链接\nsrc.match(/^\\d{3}(\\/\\d\\d){3}$/)?`http://avatar.coolapk.com/data/${src}_avatar_middle.jpg`:src",
        "ruleLink": "$.id@js:\nurl=`{{$.url}}`;\nif(result)url+=`/tp/{{$.id}}`;\nString(url).trim().replace(/^..导入/,'');",
        "ruleNextPage": "@js:\ntry {\n    url = String(java.get('url'));\n    url = url.replace(/(pg=)(\\d+)/, (mat, $1, $2) => {\n        return $1 + (~~$2 + 1)\n    }).replace(url, '');\n} catch (err) {\n    url = \"\"\n}\nurl",
        "rulePubDate": "💾 {{$.icon}}　📥 {{$.size}}　⏱️ {{$.time}}\n##💾 　📥 　⏱️\\s*",
        "ruleTitle": "$.name_all",
        "shouldOverrideUrlLoading": "",
        "singleUrl": false,
        "sortUrl": "@js:eval(String(source.loginUrl));b",
        "sourceComment": "Pixiv 书源订阅（改自【书源订阅@Thomas喲】）（更新时间：2024-11-28）\n\n登录更改后要【刷新分类】\n刷新分类，刷新分类，刷新分类\n\n\n『🅿️丨Pixiv 书源』\nhttps://github.com/windyhusky/PixivSource《⬇️ 一键导入 Pixiv 等书源 ⬇️》◎✍️ windyhusky & DowneyRem &nbsp; 🔗 长期更新◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/pixiv.json《Pixiv 书源》【https://asset.brandfetch.io/idIlKj_n7C/idSsbP7h1m.png】◎🏷️ Pixiv &nbsp; ✅ 单篇 &nbsp; ✅ 系列 &nbsp; 🔗 长期更新◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/linpx.json《Linpx 书源》【https://furrynovel.ink/apple-touch-icon.png】◎🏷️ Linpx &nbsp; ✅ 单篇 &nbsp; ✅ 系列 &nbsp; 🔗 长期更新◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/btsrk.json《Pixiv Linpx / btsrk 订阅源》◎🏷️Pixiv &nbsp; 🏷️ Linpx &nbsp; ✅ 单篇 &nbsp; ✅ 系列 &nbsp; 🔗 长期更新◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/books.json《书源分享/ books 订阅源》◎🏷️ 订阅源 &nbsp; 🔗 长期更新◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/import.json《检查更新 import 订阅源》◎📌 全选-确认-覆盖导入-刷新分类 &nbsp; 🔗 长期更新◎\n\n\n『🔎丨不世玄奇』\nhttps://github.com/bushixuanqi/book-source《⬇️ 一键导入 不世玄奇 的书源 ⬇️》【002/93/87/83】◎✍️ 不世玄奇 &nbsp; 🏷️ 通用书源 & 通用订阅 &nbsp; 📆 2023-05 &nbsp; 🔗 停更◎\n\n一键导入https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/normal.json《通用书源 & 搜索引擎书源》【002/93/87/83】◎ 🏷️ 通用书源 &nbsp; 📆 2023-05 &nbsp; 🔗 停更◎\n\n一键导入https://bushixuanqi.oss-cn-chengdu.aliyuncs.com/通用发现v5.json【002/93/87/83】《聚合搜索 / 通用订阅》◎🏷️ 通用订阅 &nbsp; 📆 2023-04 &nbsp; 🔗 停更◎\n\n\n『📚丨书源整理』\nhttps://shuyuan.yiove.com《📖丨三千书源》◎✍️ Yiove 书源仓库◎【https://shuyuan.yiove.com/logo.jpeg】\n\nhttps://yuedu.miaogongzi.net/gx.html《🏣丨喵公子书源管理》◎✍️ 喵公子◎【003/77/52/16】\n\nhttps://legado.aoaostar.com《📕丨阅读 APP 源》◎✍️ aoaostar &nbsp; 📆 标示日期为采集刷新日期◎【https://avatars.githubusercontent.com/u/86001674】\n\nhttps://www.yckceo.com/yuedu/shuyuan/index.html《🏚️丨源仓库-阅读书源》◎✍️ 源仓库◎【002/88/03/61】\n\nhttps://flowus.cn/ycheng/share/923f5a35-6dcf-47d1-b8eb-b9c5ef3ed39b《🗞️丨一程书源订阅源阅读合集》◎✍️ 一程 &nbsp; ◎【002/55/79/99】",
        "sourceGroup": "Pixiv,Furry,书源",
        "sourceIcon": "https://cdn.jsdelivr.net/gh/windyhusky/PixivSource@main/doc/pic/Legado-Pixiv.png",
        "sourceName": "书源订阅",
        "sourceUrl": "https://github.com/windyhusky/PixivSource",
        "style": "",
        "variableComment": "【刷新分类】【刷新分类】【刷新分类】"
    }
]